# Generate Certificate Chain for Mach2

**[Back to Main](../..//README.md)**\
**[Current Status](../../development/status/weekly/current_status.md)**

Here is the CSR for Mach2's frt-kors43.linamar.com server. Since, Niagara/Mach2 requires the full certificate chain we will need the signing intermediate and/or root CA certificate(s) also.  If this is not something you can give us you could make a GPO with our PKI's CA intermediate and root certificates to insert them into all users trust store requiring access to Mach2's web server.

**[Creating and Signing an SSL Certificate using Niagara Certificate Management in Workbench](https://know.innon.com/creating-signing-ssl-certificate-niagara)**

## references

**[Create certificate chain](https://www.golinuxcloud.com/openssl-create-certificate-chain-linux/)**

**[Creating and Signing an SSL Certificate using Niagara Certificate Management in Workbench](https://know.innon.com/creating-signing-ssl-certificate-niagara)**

## Can we have one SAN certificate for all Mach2 servers

Only certificates with the private key generated from the Niagara server using it are able to be used, so I don't believe one Niagara server will be able to use another Niagara server's certificate.

- Generate an server certificate and RSA key pair from the Niagara/Mach2 server.
- Discard this Niagara generated server certificate because it has numerous certificate errors that would prevent a lock showing up in the browser if it was used.
- Generate a CSR using our own PKI using the RSA key pair generated by the Niagara/Mach2 server.
- Sign the CSR generating a SAN server certificate with the desired alt name and all the necessary v3 extensions.
- Validate the SAN server certificate with the **[Sectigo Certificate Linter](https://crt.sh/lintcert)**.
- Concatenate the RSA private key generated on Niagara, SAN server certificate, intermediate, and root certificates into one file.
- Use Niagara to set this file, certificate chain, as the default.
