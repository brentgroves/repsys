# **[Database-level roles](https://learn.microsoft.com/en-us/sql/relational-databases/security/authentication-access/database-level-roles?view=sql-server-ver17&source=recommendations)**

## In this article

Fixed database roles
Special roles for Azure SQL Database and Azure Synapse
Roles in msdb database
Work with database-level roles
Public database role
Examples
Related content

To easily manage the permissions in your databases, SQL Server provides several roles that are security principals that group other principals. They are like groups in the Windows operating system. Database-level roles are database-wide in their permissions scope.

To add and remove users to a database role, use the ADD MEMBER and DROP MEMBER options of the ALTER ROLE statement. Analytics Platform System (PDW) and Azure Synapse Analytics doesn't support the use of ALTER ROLE. Use the older sp_addrolemember and sp_droprolemember procedures instead.

There are two types of database-level roles: fixed database roles that are predefined in the database and user-defined database roles that you can create.

Fixed database roles are defined at the database-level and exist in each database. Members of the db_owner database role can manage fixed database role membership. There are also some special-purpose database roles in the msdb database.

You can add any database account and other SQL Server roles into database-level roles.

 Tip

Don't add user-defined database roles as members of fixed roles. This could enable unintended privilege escalation.

The permissions of user-defined database roles can be customized by using the GRANT, DENY, and REVOKE statements. For more information, see Permissions (Database Engine).

For a list of all the permissions, see the **[Database Engine Permissions poster](https://aka.ms/sql-permissions-poster)**. Server-level permissions can't be granted to database roles. Logins and other server-level principals (such as server roles) can't be added to database roles. For server-level security in SQL Server, use server roles instead. Server-level permissions can't be granted through roles in Azure SQL Database and Azure Synapse Analytics.

## Fixed database roles

The following table shows the fixed database roles and their capabilities. These roles exist in all databases. Except for the public database role, the permissions assigned to the fixed database roles can't be changed.

| Fixed database role name | Description                                                                                                                                                                                                                                                                                                |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| db_owner                 | Members of the db_owner fixed database role can perform all configuration and maintenance activities on the database, and can also DROP the database in SQL Server. (In SQL Database and Azure Synapse, some maintenance activities require server-level permissions and can't be performed by db_owners.) |
| db_securityadmin         | Members of the db_securityadmin fixed database role can modify role membership for custom roles only and manage permissions. Members of this role can potentially elevate their privileges and their actions should be monitored.                                                                          |
| db_accessadmin           | Members of the db_accessadmin fixed database role can add or remove access to the database for Windows logins, Windows groups, and SQL Server logins.                                                                                                                                                      |
| db_backupoperator        | Members of the db_backupoperator fixed database role can back up the database.                                                                                                                                                                                                                             |
| db_ddladmin              | Members of the db_ddladmin fixed database role can run any Data Definition Language (DDL) command in a database. Members of this role can potentially elevate their privileges by manipulating code that might get executed under high privileges and their actions should be monitored.                   |
| db_datawriter            | Members of the db_datawriter fixed database role can add, delete, or change data in all user tables. In most use cases, this role is combined with db_datareader membership to allow reading the data that is to be modified.                                                                              |
| db_datareader            | Members of the db_datareader fixed database role can read all data from all user tables and views. User objects can exist in any schema except sys and INFORMATION_SCHEMA.                                                                                                                                 |
| db_denydatawriter        | Members of the db_denydatawriter fixed database role can't add, modify, or delete any data in the user tables within a database.                                                                                                                                                                           |
| db_denydatareader        | Members of the db_denydatareader fixed database role can't read any data from the user tables and views within a database.                                                                                                                                                                                 |

The permissions assigned to the fixed database roles can't be changed. All roles (including the public role) have the CONNECT permissions. The following figure shows the permissions assigned to the fixed database roles:

| Role name         | Permissions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| db_owner          | CONTROL DATABASE: Has all permissions in the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| db_securityadmin  | ALTER ANY APPLICATION ROLE CREATE SCHEMA ALTER ANY ROLE VIEW DEFINITION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| db_accessadmin    | ALTER ANY USER CREATE SCHEMA CREATE USER                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| db_backupoperator | BACKUP DATABASE BACKUP LOG CHECKPOINT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| db_ddladmin       | ALTER ANY ASSEMBLY ALTER ANY ASYMMETRIC KEY ALTER ANY CERTIFICATE ALTER ANY CONTRACT ALTER ANY DATABASE DDL TRIGGER ALTER ANY DATABASE EVENT NOTIFICATION ALTER ANY DATASPACE ALTER ANY EXTERNAL LIBRARY ALTER ANY FULLTEXT CATALOG ALTER ANY MESSAGE TYPE ALTER ANY REMOTE SERVICE BINDING ALTER ANY ROUTE ALTER ANY SCHEMA ALTER ANY SERVICE ALTER ANY SYMMETRIC KEY CHECKPOINT CREATE AGGREGATE CREATE ASSEMBLY CREATE ASYMMETRIC KEY CREATE CERTIFICATE CREATE CONTRACT CREATE DATABASE DDL EVENT NOTIFICATION CREATE DEFAULT CREATE EXTERNAL LIBRARY CREATE FULLTEXT CATALOG CREATE FUNCTION CREATE MESSAGE TYPE CREATE PROCEDURE CREATE QUEUE CREATE REMOTE SERVICE BINDING CREATE ROUTE CREATE RULE CREATE SCHEMA CREATE SERVICE CREATE SYMMETRIC KEY CREATE SYNONYM CREATE TABLE CREATE TYPE CREATE VIEW CREATE XML SCHEMA COLLECTION REFERENCES  Applies to: SQL Server 2019 and later ALTER ANY EXTERNAL LANGUAGE CREATE EXTERNAL LANGUAGE  Applies to: SQL Server 2022 and later ALTER ANY EXTERNAL DATA SOURCE ALTER ANY EXTERNAL FILE FORMAT ALTER ANY EXTERNAL JOB ALTER ANY EXTERNAL STREAM ALTER LEDGER ENABLE LEDGER |
| db_datareader     | GRANT SELECT ON DATABASE::<database-name>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| db_denydatareader | DENY SELECT ON DATABASE::<database-name>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| db_datawriter     | GRANT INSERT ON DATABASE::<database-name> GRANT UPDATE ON DATABASE::<database-name> GRANT DELETE ON DATABASE::<database-name>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| db_denydatawriter | DENY INSERT ON DATABASE::<database-name> DENY UPDATE ON DATABASE::<database-name> DENY DELETE ON DATABASE::<database-name>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| public            | There are no database-level permissions inherent in the public database role. However, some database permissions are present by default. Specifically, VIEW ANY COLUMN ENCRYPTION KEY DEFINITION, VIEW ANY COLUMN MASTER KEY DEFINITION, and SELECT permission on many individual system tables. These permissions can be revoked.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
Special roles for Azure SQL Database and Azure Synapse
These database roles exist only in the virtual master database. Their permissions are restricted to actions performed in master. Only database users in master can be added to these roles. Logins can't be added to these roles, but users can be created based on logins and then those users can be added to the roles. Contained database users in master can also be added to these roles. However, contained database users added to the dbmanager role in master can't be used to create new databases.

| Role name    | Description                                                                                                                                                                                                                                                                                                                                                          |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| dbmanager    | Can create and delete databases. A member of the dbmanager role that creates a database, becomes the owner of that database, which allows that user to connect to that database as the dbo user. The dbo user has all database permissions in the database. Members of the dbmanager role don't necessarily have permission to access databases that they don't own. |
| db_exporter  | Members of the db_exporter fixed database role can perform all data export activities. Permissions granted via this role are CREATE TABLE, ALTER ANY SCHEMA, ALTER ANY EXTERNAL DATA SOURCE, ALTER ANY EXTERNAL FILE FORMAT.  Applies to: Azure Synapse Analytics dedicated SQL pools (formerly SQL DW)                                                              |
| loginmanager | Can create and delete logins in the virtual master database.                                                                                                                                                                                                                                                                                                         |
The server-level principal and the Microsoft Entra administrator (if configured) have all permissions in SQL Database and Azure Synapse Analytics without needing to be members of any roles. For more information, see **[Authorize database access to SQL Database, SQL Managed Instance, and Azure Synapse Analytics](https://learn.microsoft.com/en-us/azure/azure-sql/database/logins-create-manage)**.

Some database roles aren't applicable to Azure SQL or Azure Synapse:

db_backupoperator isn't applicable in Azure SQL Database (not Azure SQL Managed Instance) and Azure Synapse Analytics serverless pool because backup and restore T-SQL commands aren't available.

db_datawriter and db_denydatawriter aren't applicable to Azure Synapse Analytics serverless because it just reads external data.

| Feature                   | Type        | Description                                                                                                                                                                                                            |
|---------------------------|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| sp_helpdbfixedrole        | Metadata    | Returns a list of the fixed database roles.                                                                                                                                                                            |
| sp_dbfixedrolepermission  | Metadata    | Displays the permissions of a fixed database role.                                                                                                                                                                     |
| sp_helprole               | Metadata    | Returns information about the roles in the current database.                                                                                                                                                           |
| sp_helprolemember         | Metadata    | Returns information about the members of a role in the current database.                                                                                                                                               |
| sys.database_role_members | Metadata    | Returns one row for each member of each database role.                                                                                                                                                                 |
| IS_MEMBER                 | Metadata    | Indicates whether the current user is a member of the specified Microsoft Windows group, Microsoft Entra group, or Microsoft SQL Server database role.                                                                 |
| CREATE ROLE               | Command     | Creates a new database role in the current database.                                                                                                                                                                   |
| ALTER ROLE                | Command     | Changes the name or membership of a database role.                                                                                                                                                                     |
| DROP ROLE                 | Command     | Removes a role from the database.                                                                                                                                                                                      |
| sp_addrole                | Command     | Creates a new database role in the current database.                                                                                                                                                                   |
| sp_droprole               | Command     | Removes a database role from the current database.                                                                                                                                                                     |
| sp_addrolemember          | Command     | Adds a database user, database role, Windows login, or Windows group to a database role in the current database. All platforms except Analytics Platform System (PDW) and Azure Synapse should use ALTER ROLE instead. |
| sp_droprolemember         | Command     | Removes a security account from a SQL Server role in the current database. All platforms except Analytics Platform System (PDW) and Azure Synapse should use ALTER ROLE instead.                                       |
| GRANT                     | Permissions | Adds permission to a role.                                                                                                                                                                                             |
| DENY                      | Permissions | Denies a permission to a role.                                                                                                                                                                                         |
| REVOKE                    | Permissions | Removes previously granted or denied permissions.                                                                                                                                                                      |

## Public database role

Every database user belongs to the public database role. When a user hasn't been granted or denied specific permissions on a securable object, the user inherits the permissions granted to public on that object. Database users can't be removed from the public role.

Examples
The examples in this section show how to work with database-level roles.

A. Add a User to a database-level role
The following example adds the User 'Ben' to the fixed database-level role db_datareader.

```sql
ALTER ROLE db_datareader ADD MEMBER Ben;
GO
```

List all database principals that are members of a database-level role
The following statement returns all members of any database role.

```sql
SELECT roles.principal_id AS RolePrincipalID,
    roles.name AS RolePrincipalName,
    database_role_members.member_principal_id AS MemberPrincipalID,
    members.name AS MemberPrincipalName
FROM sys.database_role_members AS database_role_members
INNER JOIN sys.database_principals AS roles
    ON database_role_members.role_principal_id = roles.principal_id
INNER JOIN sys.database_principals AS members
    ON database_role_members.member_principal_id = members.principal_id;
GO
```
