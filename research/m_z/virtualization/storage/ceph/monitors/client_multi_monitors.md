# **[mount](https://docs.ceph.com/en/reef/man/8/mount.ceph/)**

## can ceph client be configured to connect using several monitor ip addresses in case 1 is down

Yes, a Ceph client can be configured to connect using several monitor IP addresses to improve reliability and availability. When a client connects, it will learn about all monitors from any responsive monitor. For the mount or client-side connection, you specify multiple IP:PORT combinations for the monitors. The client will then try each one in turn until a connection is established with a monitor that is part of the active quorum.

```ini
## Generated by MicroCeph, DO NOT EDIT

[global]
run dir = /var/snap/microceph/current/run
fsid = d2a9147c-e5b7-4848-822b-b10927455163
mon host = 10.188.50.200,10.188.50.201
public_network = 10.188.50.201/24
auth allow insecure global id reclaim = false
ms bind ipv4 = true
ms bind ipv6 = false

# <https://tracker.ceph.com/issues/70390>

bluestore_elastic_shared_blobs = false

[client]
```

How it Works

1. Client Discovery:
When a Ceph client attempts to connect, it needs to find the cluster's monitors to get the current cluster map.
2. Multiple Address Specification:
You provide a list of monitor IP addresses and ports to the client. For example: mon_initial_members = <mon1-ip>:<port>, <mon2-ip>:<port>, <mon3-ip>:<port>.
3. Connection Attempt:
The client will attempt to connect to the first IP address in the list.
4. Quorum-Based Discovery:
If the first monitor is unavailable, the client will try the next IP address. Once a connection is made with a responsive monitor, the client receives information about the other monitors in the cluster from that monitor.
5. Resilience:
This process ensures that if one monitor is down, the client can still join the cluster by connecting to another available monitor.
Best Practices
Deploy Multiple Monitors:
.
To ensure the cluster itself has high availability and can maintain a quorum, you should always run multiple monitors (at least three in a production environment).
Use Hostnames or IP Addresses:
.
You can use either hostnames or IP addresses when specifying the monitor addresses.
Specify Port:
.
It's good practice to specify the port (e.g., 6789) for clarity, though the default is used if omitted.
