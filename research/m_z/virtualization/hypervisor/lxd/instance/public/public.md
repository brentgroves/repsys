# public

Inspect the OVN network setup:

```bash
root@micro1:~#lxc network list
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
|   NAME    |   TYPE   | MANAGED |      IPV4       |           IPV6            |     DESCRIPTION     | USED BY |  STATE  |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| UPLINK    | physical | YES     |                 |                           |                     | 1       | CREATED |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| br-int    | bridge   | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| default   | ovn      | YES     | 10.233.212.1/24 | fd42:40d7:53e9:d1cc::1/64 | Default OVN network | 4       | CREATED |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno1      | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno2      | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno3      | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno4      | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno150    | vlan     | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno250    | vlan     | NO      |                 |                           |                     | 1       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno350    | vlan     | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno1220   | vlan     | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| eno11220  | vlan     | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| enp65s0f0 | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| enp65s0f1 | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| enp66s0f0 | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| enp66s0f1 | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| enp66s0f2 | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| enp66s0f3 | physical | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+
| lxdovn1   | bridge   | NO      |                 |                           |                     | 0       |         |
+-----------+----------+---------+-----------------+---------------------------+---------------------+---------+---------+

root@micro11:~# lxc network show default
name: default
description: Default OVN network
type: ovn
managed: true
status: Created
config:
  bridge.mtu: "1442"
  ipv4.address: 10.233.212.1/24
  ipv4.nat: "true"
  ipv6.address: fd42:40d7:53e9:d1cc::1/64
  ipv6.nat: "true"
  network: UPLINK
  volatile.network.ipv4.address: 10.188.50.206
used_by:
- /1.0/instances/open-osprey
- /1.0/instances/v2
- /1.0/instances/win11
- /1.0/profiles/default
locations:
- micro11
- micro12
- micro13
```

Make sure that you can ping the virtual router within OVN.

Within the output of the previous command (lxc network show default), find the value for volatile.network.ipv4.address. This is the virtual routerâ€™s IPv4 address.

Ping that IPv4 address.

```bash
ping 10.188.50.206
PING 10.188.50.206 (10.188.50.206) 56(84) bytes of data.
64 bytes from 10.188.50.206: icmp_seq=1 ttl=254 time=1.16 ms
64 bytes from 10.188.50.206: icmp_seq=2 ttl=254 time=0.807 ms
^C
--- 10.188.50.206 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1001ms
rtt min/avg/max/mdev = 0.807/0.981/1.156/0.174 ms
```

Inspect the default profile:

```bash
root@micro11:~# lxc profile show default
name: default
description: Default LXD profile
config:
  migration.stateful: "true"
devices:
  eth0:
    name: eth0
    network: default
    type: nic
  root:
    path: /
    pool: remote
    type: disk
used_by:
- /1.0/instances/open-osprey
- /1.0/instances/v2
- /1.0/instances/win11
```

## Launch some instances

Check the list of instances. Note that the instances are running on different cluster members.

```bash
root@micro11:~# lxc list
+-------------+---------+-----------------------+-------------------------------------------------+-----------------+-----------+----------+
|    NAME     |  STATE  |         IPV4          |                      IPV6                       |      TYPE       | SNAPSHOTS | LOCATION |
+-------------+---------+-----------------------+-------------------------------------------------+-----------------+-----------+----------+
| open-osprey | RUNNING | 10.233.212.2 (enp5s0) | fd42:40d7:53e9:d1cc:216:3eff:fed3:c5dc (enp5s0) | VIRTUAL-MACHINE | 0         | micro13  |
+-------------+---------+-----------------------+-------------------------------------------------+-----------------+-----------+----------+
| v2          | RUNNING | 10.233.212.3 (eth0)   | fd42:40d7:53e9:d1cc:216:3eff:fe49:d43a (eth0)   | VIRTUAL-MACHINE | 0         | micro11  |
+-------------+---------+-----------------------+-------------------------------------------------+-----------------+-----------+----------+
| win11       | RUNNING | 10.233.212.4 (eth0)   | fd42:40d7:53e9:d1cc:216:3eff:fe17:21b1 (eth0)   | VIRTUAL-MACHINE | 0         | micro11  |
+-------------+---------+-----------------------+-------------------------------------------------+-----------------+-----------+----------+
```

Check the storage. Note that the instance volumes are located on the specified storage pools.

```bash
root@micro11:~# lxc storage volume list remote
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
|      TYPE       |                               NAME                               | DESCRIPTION | CONTENT-TYPE | USED BY | LOCATION |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
| image           | aeed887e1eb5d7df9f0ff4e2d80a3231f40c0abb8ef9ec4e547b94c2be0c88ab |             | block        | 1       |          |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
| image           | c89a5fe8efa0a12a59ec3234c17c1bb5524688c66f48b0d7fd616b4c126aba8d |             | block        | 1       |          |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
| image           | d34c75ed0cd7b0312d52f45c8bdc2ad119408de4c27fa881f931d80a25f7c4d9 |             | block        | 1       |          |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
| virtual-machine | open-osprey                                                      |             | block        | 1       |          |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
| virtual-machine | v2                                                               |             | block        | 1       |          |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
| virtual-machine | win11                                                            |             | block        | 1       |          |
+-----------------+------------------------------------------------------------------+-------------+--------------+---------+----------+
```

Access the shell in u1:

```bash
lxc exec open-osprey -- bash
Ping the IPv4 address of open-osprey:
